# Telegram Bot для конвертации MKV в MP4

Этот бот позволяет конвертировать видеофайлы из формата MKV в формат MP4 с сохранением высокого качества и оригинальной частоты кадров.

## Особенности

- Конвертация видео из MKV в MP4 с сохранением качества
- Использование кодека H.264 для видео и AAC для аудио
- Сохранение оригинальной частоты кадров
- Предоставление информации о конвертированном файле (имя, размер, длительность)

## Установка и запуск

### Автоматическая установка и запуск (рекомендуется)

1. Убедитесь, что у вас установлен Python 3.7 или выше
2. Запустите файл `ЗАПУСТИТЬ_БОТА.bat`
3. Скрипт автоматически:
   - Установит необходимые зависимости
   - Загрузит FFmpeg
   - Добавит FFmpeg в PATH
   - Запустит бота

### Альтернативные способы установки

#### Запуск без проверки FFmpeg

1. Убедитесь, что у вас установлен Python 3.7 или выше
2. Установите зависимости: `pip install -r requirements.txt`
3. Запустите бота: `python run_bot_without_ffmpeg_check.py`

#### Ручная установка FFmpeg

1. Скачайте FFmpeg с официального сайта: https://ffmpeg.org/download.html
   - Для Windows: https://github.com/BtbN/FFmpeg-Builds/releases/download/latest/ffmpeg-master-latest-win64-gpl.zip
   - Для Linux: `sudo apt-get install ffmpeg`
   - Для macOS: `brew install ffmpeg`
2. Распакуйте архив (для Windows)
3. Добавьте путь к папке bin в переменную PATH
4. Запустите бота: `python bot.py`

### Проверка работы бота

1. Найдите бота в Telegram: `@mkv_to_mp4_converter_bot`
2. Отправьте боту файл в формате MKV
3. Дождитесь завершения конвертации
4. Получите файл в формате MP4

## Размещение бота на сервере

Для постоянной работы бота и доступа к нему всех пользователей, рекомендуется разместить его на сервере.

### Варианты размещения

1. **PythonAnywhere** (рекомендуется для начинающих)
   - Бесплатный тариф для небольших проектов
   - Простая настройка и управление
   - Подробные инструкции в файле `ИНСТРУКЦИЯ_СЕРВЕР.txt`

2. **Heroku**
   - Поддержка автоматического масштабирования
   - Интеграция с GitHub
   - Требуется настройка buildpack для FFmpeg
   - Инструкции в файле `ИНСТРУКЦИЯ_СЕРВЕР.txt`

3. **VPS** (DigitalOcean, Linode, Vultr и т.д.)
   - Полный контроль над сервером
   - Возможность обработки больших файлов
   - Требуется базовое знание Linux
   - Подробная настройка в файле `ИНСТРУКЦИЯ_СЕРВЕР.txt`

### Важные замечания при размещении на сервере

- Токен бота уже настроен и готов к использованию
- Учитывайте ограничения на размер файлов и дисковое пространство
- Для обработки больших файлов может потребоваться VPS с большим объемом RAM
- Настройте мониторинг для отслеживания работоспособности бота

## Технические детали

- Бот использует библиотеку python-telegram-bot
- Для конвертации используется FFmpeg
- Максимальный размер файла ограничен Telegram (до 2 ГБ)
- Настройки кодирования: `-c:v libx264 -crf 23 -preset medium -c:a aac -b:a 128k`

## Лицензия

MIT 